<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Detail</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="Style.css" />
  </head>
  <body>
    <div class="sticky-wrapper">
      <header class="expo-header">
        <div class="logo-section">
          <img
            src="/image/banner/BgSub_restaurant-logo-design-(1)-template-b9bd726f6bee3380567f1c9b63a8c99b_screen.png"
            alt="Logo"
          />
        </div>
        <div class="info-row">
          <div class="fw-bold">MONDAY - SUNDAY</div>
          <div class="text-muted">7:00PM - 11:00AM</div>
          <div class="text-muted">üìç Diamond Khmer Restaurant, Koh Pich</div>
        </div>
      </header>

      <nav class="main-navbar navbar navbar-expand-lg navbar-dark">
        <div class="container">
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="collapse navbar-collapse justify-content-between"
            id="navbarNav"
          >
            <ul class="navbar-nav gap-2">
              <li class="nav-item">
                <a class="nav-link" href="../../index.html">Home Page</a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="../../main-page-English/fish_type.html"
                  >Fish Type</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="../../main-page-English/soup_type.html"
                  >Soup Type</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="../../main-page-English/grill_type.html"
                  >Grill Type</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="../../main-page-English/fried_type.html"
                  >Fried Type</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="../../main-page-English/dessert_type.html"
                  >Dessert Type</a
                >
              </li>
            </ul>
            <ul class="navbar-nav">
              <li class="nav-item position-relative">
                <a href="cart.html" class="nav-link">
                  <i class="fa-solid fa-cart-shopping"></i>
                  <span class="ms-1">Cart</span>
                  <span
                    id="cart-count"
                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                    >0</span
                  >
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </div>

    <!-- PRODUCT -->
    <div class="product-page">
      <div class="product-image">
        <div class="name"><b>Tilapia Florentine</b></div>
        <img
          src="/image/Fish Type/8-·ûè·üí·ûö·û∏·ûÄ·üí·ûö·û†·üÇ·ûõ·ûî·üí·ûö·û°·û∂·ûÄ·üã·ûÖ·üÄ·ûì.png"
          alt="Tilapia Florentine"
        />
      </div>
      <div class="product-details">
        <h2 id="priceDisplay">$5.00</h2>
        <label for="sizeSelect" class="form-label">Select Size</label>
        <select
          class="form-select mb-3"
          id="sizeSelect"
          onchange="updatePrice()"
        >
          <option value="5">Small - $5</option>
          <option value="7">Medium - $7</option>
          <option value="9">Large - $9</option>
        </select>
        <p><strong>Ingredients</strong></p>
        <ul>
          <li>
            Fresh baby spinach, tilapia fillets, lemon juice, garlic-herb
            seasoning, ricotta cheese, parmesan.
          </li>
          <ul>
            <li>1 package (6 ounces) fresh baby spinach</li>
            <li>6 tsp canola oil</li>
            <li>4 tilapia fillets (4 oz each)</li>
            <li>2 tbsp lemon juice</li>
            <li>2 tsp garlic-herb seasoning blend</li>
            <li>1 large egg, lightly beaten</li>
            <li>1/2 cup part-skim ricotta cheese</li>
            <li>1/4 cup grated Parmesan cheese</li>
            <li>Optional: Lemon wedges and Parmesan</li>
          </ul>
        </ul>
        <button class="btn btn-dark" onclick="addToCart()">Add to Cart</button>
      </div>
    </div>

    <script>
      function updatePrice() {
        const selected = document.getElementById("sizeSelect").value;
        document.getElementById("priceDisplay").innerText = `$${parseFloat(
          selected
        ).toFixed(2)}`;
      }

      function addToCart() {
        const price = parseFloat(document.getElementById("sizeSelect").value);
        const product = {
          name: "Tilapia Florentine",
          price: price,
          image: "/image/Fish Type/8-·ûè·üí·ûö·û∏·ûÄ·üí·ûö·û†·üÇ·ûõ·ûî·üí·ûö·û°·û∂·ûÄ·üã·ûÖ·üÄ·ûì.png",
          qty: 1,
        };
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let found = false;
        cart = cart.map((item) => {
          if (item.name === product.name && item.price === product.price) {
            item.qty += 1;
            found = true;
          }
          return item;
        });
        if (!found) cart.push(product);
        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCount();
        alert("Added to cart!");
      }

      function updateCartCount() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let count = cart.reduce((sum, item) => sum + item.qty, 0);
        document.getElementById("cart-count").innerText = count;
      }

      document.addEventListener("DOMContentLoaded", updateCartCount);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
